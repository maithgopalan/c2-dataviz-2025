)
library(tidyverse)
library(countdown)
library(sf)
theme_set(theme_minimal(25))
update_geom_defaults('point', list(size = 4))
update_geom_defaults('text', list(size = 6))
ggplot(roads_laneco) +
geom_sf(color = "gray60")
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(8)
install.packages("Cairo")
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(8)
usethis::edit_r_environ()
View(convert_slides)
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(8)
gc()
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(8)
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(8)
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(8)
knitr::opts_chunk$set(
fig.width = 13,
message = FALSE,
warning = FALSE,
echo = TRUE,
dev = "CairoPNG"
)
library(tidyverse)
library(countdown)
library(sf)
theme_set(theme_minimal(25))
update_geom_defaults('point', list(size = 4))
update_geom_defaults('text', list(size = 6))
library(ggplot2)
library(showtext)
font_add_google("Varela Round", "vr")
showtext_auto()
ggplot(mtcars, aes(disp, mpg)) +
geom_point(color = "#001413",
size = 3) +
geom_smooth(color = "#00998c",
fill = "#001413") +
theme(plot.background = element_rect(fill = "transparent",
color = NA),
panel.background = element_rect(fill = "transparent",
color = NA),
panel.grid = element_blank(),
text = element_text(family = "vr",
size = 30,
color = "#00998c"),
axis.text = element_text(color = "#00998c"))
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(9)
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(9)
library(rmarkdown)
library(pagedown)
library(tools)
convert_slides <- function(week_number) {
# Create directory structure
slides_dir <- file.path("static", "slides")
week_files_dir <- file.path(slides_dir, paste0("w", week_number, "_files"))
figure_html_dir <- file.path(week_files_dir, "figure-html")
# Important: Source img directory is in static/slides
source_img_dir <- file.path(slides_dir, "img")
output_img_dir <- file.path(week_files_dir, "img")
# Create directories
dir.create(figure_html_dir, recursive = TRUE, showWarnings = FALSE)
dir.create(output_img_dir, recursive = TRUE, showWarnings = FALSE)
# Copy images from static/slides/img to the output directory
if (dir.exists(source_img_dir)) {
file.copy(list.files(source_img_dir, full.names = TRUE),
output_img_dir,
overwrite = TRUE)
}
# Construct file paths
rmd_file <- file.path(slides_dir, paste0("w", week_number, ".Rmd"))
html_file <- file.path(slides_dir, paste0("w", week_number, ".html"))
pdf_file <- file.path(slides_dir, paste0("w", week_number, ".pdf"))
# Register md engine
knitr::knit_engines$set(md = function(options) {
options$code
})
# Set knitr options
knitr::opts_chunk$set(
fig.path = file.path(paste0("w", week_number, "_files"), "figure-html/")
)
# Render Rmd to HTML
message("Converting Rmd to HTML...")
render(rmd_file,
clean = FALSE,
envir = new.env(),
quiet = TRUE)
# Convert to PDF
message("Converting HTML to PDF...")
pagedown::chrome_print(
input = html_file,
output = pdf_file,
options = list(
timeout = 120,
wait = 5
)
)
message(sprintf("Conversion complete! PDF saved as w%d.pdf", week_number))
}
# Usage:
convert_slides(9)
